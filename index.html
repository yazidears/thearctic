<!DOCTYPE html>
<html>
<head>
<title>theArctic: Unoptimized</title>
<style>
body {
    background-color: #000000;
    color: #00ff00; 
    font-family: 'Courier New', Courier, monospace;
    padding: 20px;
    transition: background-color 0.5s ease; /* For the flash animation */
}

.status {
    font-size: 1.2em;
    margin-bottom: 10px;
}

.archive-list {
    list-style: none;
    padding: 0;
}

.archive-item {
    margin-bottom: 5px;
}

.archive-link {
    color: #00ffff;
    text-decoration: none;
}

.controls {
    margin-top: 20px;
}

.button {
    background-color: #00ff00; 
    color: #000000;
    border: none;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    margin-right: 10px;

}

.system-info {
    margin-top: 10px;
}

.wtf-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #00ff00; 
    color: #000000;
    border: none;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    cursor: pointer;
    border-radius: Â  
 5px;
    z-index: 1000;
}

.explanation-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.8);
    display: none;
    justify-content: center;
    align-items: center; 
    color: #ffffff; /* Set text color to white */
    z-index: 1001;
}

.explanation-text {
    font-size: 1.2em;
    text-align: center;
    max-width: 80%;
    display: flex;
    flex-direction: column;
    align-items: center; 
}

.info-emoji {
    font-size: 3em;
    margin-bottom: 10px;
}
</style>
</head>
<body>

<ul class="archive-list"></ul>

<div class="controls">
    <button class="button" onclick="pauseSearch()">Pause</button>
    <div class="status">theArctic's advanced algorithm is diligently searching for art pieces...</div>

    <div class="system-info"></div> 
</div>

<button class="wtf-button" onclick="showExplanation()">wtf is this?</button>

<div class="explanation-overlay">
    <div class="explanation-text">
        <span class="info-emoji">ðŸ›ˆ</span> 
        <p>
        theArctic's advanced algorithm is tirelessly searching for hidden art pieces.<br>
        Once discovered, these masterpieces will be unveiled below for your viewing pleasure.
        </p>
    </div>
    <button class="wtf-button" onclick="hideExplanation()">Close</button>
</div>

<script>
const statusDiv = document.querySelector('.status');
const archiveList = document.querySelector('.archive-list');
const systemInfoDiv = document.querySelector('.system-info');
const allowedChars = 'abcdefghijklmnopqrstuvwxyz';
let currentGuess = 'a';
let isPaused = false;

function checkFile() {
    if (isPaused) return; 

    const filename = currentGuess + '.html';
    statusDiv.textContent = `Checking: ${filename}`;

    fetch(filename)
        .then(response => {
            if (response.ok) {
                const listItem = document.createElement('li');
                listItem.classList.add('archive-item');
                const link = document.createElement('a');
                link.href = filename;
                link.textContent = filename;
                link.classList.add('archive-link');
                listItem.appendChild(link);
                archiveList.appendChild(listItem);

                // Flash animation when a website is found
                document.body.style.backgroundColor = '#00ffff'; 
                setTimeout(() => {
                    document.body.style.backgroundColor = '#000000'; 
                }, 300); 
            }

            nextGuess();
            checkFile(); 
        })
        .catch(error => {
            nextGuess();
            checkFile(); 
        });
}
function nextGuess() {
    if (currentGuess.length === 1 && currentGuess === allowedChars.charAt(allowedChars.length - 1)) {
        currentGuess = allowedChars.charAt(0) + allowedChars.charAt(0); 
    } else if (currentGuess.endsWith('z')) {
        let i = currentGuess.length - 1;
        while (i >= 0 && currentGuess.charAt(i) === 'z') {
            i--;
        }
        if (i >= 0) {
            let newFirstPart = currentGuess.slice(0, i);
            let charToIncrement = currentGuess.charAt(i);
            let index = allowedChars.indexOf(charToIncrement);
            let newChar = allowedChars.charAt(index + 1);
            currentGuess = newFirstPart + newChar + 'a'.repeat(currentGuess.length - i - 1);
        } else {
            currentGuess = 'a' + currentGuess;
        }
    } else {
        const lastChar = currentGuess.charAt(currentGuess.length - 1);
        const index = allowedChars.indexOf(lastChar);
        const newLastChar = allowedChars.charAt(index + 1);
        currentGuess = currentGuess.slice(0, -1) + newLastChar;
    }
}

function pauseSearch() {
    isPaused = !isPaused; 
    const pauseButton = document.querySelector('.controls .button');
    if (isPaused) {
        pauseButton.textContent = 'Resume';
        statusDiv.textContent = 'Search paused.';
    } else {
        pauseButton.textContent = 'Pause';
        checkFile(); 
    }
}

checkFile(); 
// Get system information (Chrome API)
chrome.system.cpu.getInfo(cpuInfo => {
    systemInfoDiv.textContent = `CPU: ${cpuInfo.modelName} | Usage: ${cpuInfo.userPercent}%`;
});

chrome.system.memory.getInfo(memoryInfo => {
    const usedMemoryMB = (memoryInfo.capacity - memoryInfo.availableCapacity) / (1024 * 1024);
    systemInfoDiv.textContent += ` | Memory: ${usedMemoryMB.toFixed(2)} MB / ${ (memoryInfo.capacity / (1024 * 1024)).toFixed(2)} MB`;
});

checkFile(); 

function showExplanation() {
    document.querySelector('.explanation-overlay').style.display = 'flex';
}

function hideExplanation() {
    document.querySelector('.explanation-overlay').style.display = 'none';
}
</script>

</body>
</html>